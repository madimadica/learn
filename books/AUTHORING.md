# Authoring

This guide is to describe how to contribute/author new pages/sections effectively. 

## Books
Books go inside whichever root directory you choose, lets suppose we use `/books` as an example.
Then, if we have `/books/java-intro`, the `java-intro` directory would house the book contents.
Note that `java-intro` will be the default url's `path` unless overriden in `book.yml`. 

### `book.yml`
This yaml file configures book properties:
* `title` Book title
* `description` a short description of what the book is about
* `categories` a `String[]` of categories to tag this as. Will later be used for related books and other UI driven functionality
* `path` *Optional*. Book url, such as `java-intro`. This value is an override the path from the folder structure.

## Chapters
Inside a specific book's root directory, you must add in chapter directories.
These should be named as `chapter-#`, so `chapter-5` for example,
but you may add anything after the number, such as `chapter-5-loops` to give a better hint as to its content.
This optional suffix does not affect the chapter's path.
Combining this with our book example, we might have `/books/java-intro/chapter-5-loops/`

The ordering of the book naturally follows the chapters sorted by their directory numbers.

### `chapter.yml`
Each chapter must have a `chapter.yml` to specify additional data.  This includes
* `title` Chapter title used in the `h1` and Table of Contents, etc.
* `description` simple description to be used on the first page of the chapter, above its mini-toc.
* `path` The url path to display the chapter as, such as `/java-intro/loops` where `path=loops`

## Sections
Sections are where the bulk of the book content is written.
These are markdown files named as `section-<chapterNumber>-<sectionNumber>.md`,
but may also include an optional suffix such as `section-5.2-while-loops.md`, for example.
This optional suffix does not affect the URL path.

### Section Frontmatter
Section frontmatter has the following:
* `title`: Page's meta `title`
* `path`: *Optional*. The url path to use, such as `foo-and-bar`. When not supplied, kebab-case `title` is used instead.
* `h1`: *Optional*. The `<h1>` element content to use instead of the default (`title`). Such as `` What is `foo`? ``

## Images
Images go inside a chapter's `/img` directory, but can be referenced with `![Text](./imageName)`.
The image directory is automatically applied to these image links.

After the frontmatter comes the rest of the markdown document, which is parsed as markdown.

## Misc Notes
It's currently not possible to inject variables into the markdown (e.g. `${{foo}}`) is not supported).

## Linking to Chapters and Sections
There are going to be autogenerated global link reference definitions. Use `[@3.2]` for example, to link.

### Warning
Unfortunately you need to be cautious when referencing a section number, as when the section changes, your link reference will be invalid.

### Cross-book linking
While not supported yet, the intended way is to have it with `[@BookName$1.2]`.

## TODO
add an inline feature for glossary terms like `[@term:Classes|Class]` where `Classes` would be the display name and `Class` would be the dictionary to reference.

Custom block elements like fancy tables

## TODO improve quizzes with java API? JSON Config?

maybe in the future allow sections.md to ignore the chapter number and just do section-1.md
